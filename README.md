# Telegram-–±–æ—Ç –¥–ª—è –ù–ö–û ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
–¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç –¥–ª—è –ù–ö–û. –í —Ä–∞–º–∫–∞—Ö —Ö–∞–∫–∞—Ç–æ–Ω–∞ "–≠–Ω–µ—Ä–≥–∏—è –¥–æ–±—Ä–∞"

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç Telegram-–±–æ—Ç–∞ –Ω–∞ Python, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–º –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º (–ù–ö–û) –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç—ã –ø–æ—Å—Ç–æ–≤, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å —Ç–µ–∫—Å—Ç—ã –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º LLM –∏ API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–ø—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ‚Äî Yandex Cloud). –ë–æ—Ç —Ç–∞–∫–∂–µ —É–º–µ–µ—Ç –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–µ –ø–æ—Å—Ç—ã VK –¥–ª—è –ø–æ–¥—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç–∏–ª—è.

–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

–ö–æ–º–∞–Ω–¥—ã –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –±–æ—Ç–æ–º

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç



–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤ –ø–æ—Å—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–¥–µ–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –¥–∞–Ω–Ω—ã—Ö –ù–ö–û

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–º—É –æ–ø–∏—Å–∞–Ω–∏—é (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ä–µ–∂–∏–º —Å –æ–ø—Ä–æ—Å–æ–º –æ–ø–µ—Ä–∞—Ü–∏–∏)

–£–ª—É—á—à–µ–Ω–∏–µ/–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–∏, –ø—É–Ω–∫—Ç—É–∞—Ü–∏–∏ –∏ —Å—Ç–∏–ª—è

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω–∞ –Ω–∞ N –¥–Ω–µ–π (7, 30 –∏–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ)

–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ù–ö–û (–Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, –≤–∏–¥—ã –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –∞—É–¥–∏—Ç–æ—Ä–∏—è, –ª–æ–∫–∞—Ü–∏—è, –∫–æ–Ω—Ç–∞–∫—Ç—ã)

(–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—É–±–ª–∏—á–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ –∏–∑ VK –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å—Ç–∏–ª—è

–£–¥–æ–±–Ω–æ–µ inline-–º–µ–Ω—é –∏ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (—Ä–µ–≥–µ–Ω–∏—Ä–∞—Ü–∏—è) –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ç–µ–∫—Å—Ç–∞ –∏–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

Python 3.10+ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 3.11)

–ü–∞–∫–µ—Ç—ã (–ø—Ä–∏–º–µ—Ä): python-telegram-bot, requests –∏ –¥—Ä. –°–º. requirements.txt –Ω–∏–∂–µ.

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

# Telegram
TELEGRAM_TOKEN=–≤–∞—à_telegram_token


# Yandex (LLM + image generation)
YANDEX_API_KEY=–≤–∞—à_yandex_api_key
FOLDER_ID=–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ_–∏–¥_–ø–∞–ø–∫–∏_yandex (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Å–≤–æ–π workspace)
CATALOG_ID=–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ_–∏–¥_–∫–∞—Ç–∞–ª–æ–≥–∞_–∞—Ä—Ç (–¥–ª—è imageGenerationAsync)


# VK (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—É–±–ª–∏—á–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤)
VK_SERVICE_TOKEN=–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ_vk_service_token


# –ü—Ä–æ—á–∏–µ (–ª–æ–∫–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# LOG_LEVEL=INFO

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ. –ï—Å–ª–∏ –≤—ã –Ω–µ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫—É—é-—Ç–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, VK –∏–ª–∏ Yandex images), –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—É—Å—Ç—ã–º–∏ ‚Äî –±–æ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–æ–∫–µ–Ω–∞ –∏ –≤–µ—Ä–Ω—ë—Ç –≤ —á–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
git clone https://github.com/<username>/<repo>.git
cd <repo>

2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
python -m venv venv
source venv/bin/activate # Linux / macOS
venv\Scripts\activate # Windows
pip install -r requirements.txt

3. –°–æ–∑–¥–∞–π—Ç–µ .env (–∏–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è) –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤—ã—à–µ.

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:

python main.py

–ö–æ–º–∞–Ω–¥—ã –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –±–æ—Ç–æ–º

–ö–æ–º–∞–Ω–¥—ã (slash commands –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞)

/start ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω

/help ‚Äî —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

/menu ‚Äî –æ—Ç–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (inline)

/text ‚Äî –Ω–∞—á–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ç–µ–∫—Å—Ç–∞ –ø–æ—Å—Ç–∞ (–±–æ—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç –∏–¥–µ—é)

/image ‚Äî –Ω–∞—á–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–±–æ—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ)

/edit ‚Äî –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

/plan ‚Äî —Å–æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω –Ω–∞ N –¥–Ω–µ–π

/orginfo ‚Äî –ø–æ—à–∞–≥–æ–≤–æ–µ –≤–≤–µ–¥–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ù–ö–û

–¢–∞–∫–∂–µ –±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç inline-–∫–Ω–æ–ø–∫–∏ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏: —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞, –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω, –¥–∞–Ω–Ω—ã–µ –ù–ö–û, –ø–æ–º–æ—â—å ‚Äî –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é.

–ö–Ω–æ–ø–∫–∏ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

‚ú® –°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç ‚Äî –≤—ã–±–æ—Ä –º–µ–∂–¥—É —Ç–µ–∫—Å—Ç–æ–º –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º

üîÅ –î—Ä—É–≥–æ–π –≤–∞—Ä–∏–∞–Ω—Ç ‚Äî –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ (regenerate) –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å—É—â–Ω–æ—Å—Ç–∏ (—Ç–µ–∫—Å—Ç/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)

‚Ü©Ô∏è –ù–∞–∑–∞–¥ ‚Äî –≤–æ–∑–≤—Ä–∞—Ç –≤ –º–µ–Ω—é

üîî –í–∫–ª—é—á–∏—Ç—å –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ ‚Äî –≤–∫–ª—é—á–µ—Ç –æ–ø–æ–≤–µ—â–µ–Ω–∏—è

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

Yandex LLM / Image Generation

–î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è https://llm.api.cloud.yandex.net/foundationModels/v1/completion.

–î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è https://llm.api.cloud.yandex.net/foundationModels/v1/imageGenerationAsync —Å –ø–æ—Å–ª–µ–¥—É—é—â–∏–º –æ–ø—Ä–æ—Å–æ–º operation.api.cloud.yandex.net/operations/{id}.

–í –∫–æ–¥–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ç–∞–π–º–∞—É—Ç—ã –∏ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ (retry) –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ requests_with_retry.

VK

–ü—Ä–∏ –≤–≤–æ–¥–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –±–æ—Ç –∏—â–µ—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ vk.com –∏ –ø—Ä–∏ —Å–æ–≥–ª–∞—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑–≤–ª–µ–∫–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø—É–±–ª–∏—á–Ω—ã–µ –ø–æ—Å—Ç—ã —á–µ—Ä–µ–∑ wall.get.

–ü–æ–ª—É—á–µ–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è LLM –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ context.chat_data['vk_summary'] –¥–ª—è –ø–æ–¥—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç–∏–ª—è –±—É–¥—É—â–∏—Ö –ø–æ—Å—Ç–æ–≤.



